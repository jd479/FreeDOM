{"version":3,"sources":["webpack/bootstrap f3efc2cbf968399e534a","./js/main.js","./js/snake-view.js","./js/board.js","./js/snake.js","./js/coord.js","../lib/dom_node_collection.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACLD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACvDA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,eAAe;AAClC;AACA,sBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACnCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AC9CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;AChBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,8BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,8BAA6B,UAAU;AACvC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;;AAEA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f3efc2cbf968399e534a\n **/","const View = require('./snake-view');\n\n$(function () {\n  const rootEl = $('.game');\n  new View(rootEl);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","const Board = require('./board');\nconst DOMNodeCollection = require('../../lib/dom_node_collection');\n\nclass View {\n  constructor($el) {\n    this.$el = $el;\n    this.board = new Board(15);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.step = this.step.bind(this);\n\n    this.generateGrid();\n\n    window.setInterval(this.step, 500);\n\n    $(window).on(\"keydown\", this.handleKeyDown);\n\n  }\n\n  handleKeyDown(e) {\n    if (View.KEYCODES[event.keyCode]) {\n      this.board.snake.turn(View.KEYCODES[event.keyCode]);\n    }\n  }\n\n  step() {\n    this.board.snake.move();\n    this.render();\n  }\n\n  generateGrid() {\n    let board = \"\";\n    for (let i = 0; i < this.board.size; i++) {\n      board += \"<ul>\";\n      for (let j = 0; j < this.board.size; j++) {\n        board += \"<li> </li>\";\n      }\n      board += \"</ul>\";\n    }\n\n    this.$el.html(board);\n    this.$li = this.$el.find(\"li\");\n  }\n\n  render() {\n\n  }\n}\n\nView.KEYCODES = {\n  37: \"W\",\n  38: \"N\",\n  39: \"E\",\n  40: \"S\"\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake-view.js\n ** module id = 1\n ** module chunks = 0\n **/","const Snake = require('./snake');\n\nclass Board {\n  constructor(size) {\n    this.size = size;\n    this.snake = new Snake(this);\n  }\n\n  emptyGrid() {\n    const grid = [];\n\n    for (let i = 0; i < this.size; i++) {\n      const row = [];\n      for (let j = 0; j < this.size; j++) {\n        row.push(\"\");\n      }\n      grid.push(row);\n    }\n    return grid;\n  }\n\n  validPosition(pos) {\n    return (pos.x >= 0 && pos.x <= this.size &&\n            pos.y >= 0 && pos.y <= this.size);\n  }\n\n  render() {\n    const grid = this.emptyGrid();\n    this.snake.segments.forEach((segment) => {\n      grid[segment.x][segment.y] = Snake.BODY;\n    });\n    grid.map( row => row.join(\"\") ).join(\"\\n\");\n  }\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 3\n ** module chunks = 0\n **/","const Coord = require('./coord');\n\nclass Snake {\n  constructor(board) {\n    this.direction = \"N\";\n    this.board = board;\n    const origin = new Coord(Math.floor(board.size/2), Math.floor(board.size/2));\n    this.segments = [origin];\n    this.growth = 0;\n  }\n\n  head() {\n    return this.segments.slice(-1)[0];\n  }\n\n  move() {\n    this.segments.push(this.head().plus(Snake.MOVES[this.direction]));\n    this.segments.shift();\n  }\n\n  turn(dir) {\n    if (Snake.OPPOSITES[this.direction] === dir) {\n      return;\n    } else {\n      this.direction = dir;\n    }\n  }\n\n}\n\nSnake.MOVES = {\n  \"N\": new Coord(-1, 0),\n  \"E\": new Coord(0, 1),\n  \"S\": new Coord(1, 0),\n  \"W\": new Coord(0, -1)\n};\n\nSnake.OPPOSITES = {\n  \"N\": \"S\",\n  \"S\": \"N\",\n  \"E\": \"W\",\n  \"W\": \"E\"\n};\n\nSnake.BODY = \"X\";\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 4\n ** module chunks = 0\n **/","class Coord {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  equals(otherCoord) {\n    return (this.x === otherCoord.x) && (this.y === otherCoord.y);\n  }\n\n  plus(otherCoord) {\n    return new Coord(this.x + otherCoord.x, this.y + otherCoord.y);\n  }\n\n}\n\nmodule.exports = Coord;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/coord.js\n ** module id = 5\n ** module chunks = 0\n **/","class DOMNodeCollection {\n  constructor(nodes) {\n    this.nodes = Array.from(nodes);\n  }\n\n  html (arg) {\n    if (arg){\n      this.nodes.forEach((el) => {\n        el.innerHTML = arg;\n      });\n    } else{\n      return this.nodes[0].innerHTML;\n    }\n  }\n\n  empty () {\n    this.nodes.forEach((el) => {\n      el.innerHTML = \"\";\n    });\n  }\n\n  append (arg) {\n    if (arg instanceof DOMNodeCollection) {\n      this.nodes.forEach((el) => {\n        arg.nodes.forEach((argEl) => {\n          el.innerHTML += argEl.outerHTML;\n        });\n      });\n    } else if (arg instanceof HTMLElement) {\n      this.nodes.forEach((el) => {\n        el.innerHTML += arg.outerHTML;\n      });\n    } else if (typeof arg === \"string\"){\n      this.nodes.forEach((el) => {\n        el.innerHTML += arg;\n      });\n    }\n  }\n\n  attr (attribute, value) {\n    if (value) {\n      this.nodes.forEach((el) => {\n        el.setAttribute(attribute, value);\n      });\n    } else {\n      return this.array[0].getAttribute(attribute);\n    }\n  }\n\n  addClass (newClass) {\n    this.nodes.forEach((el) => {\n      el.classList.add(newClass);\n    });\n  }\n\n  removeClass (removedClass) {\n    this.nodes.forEach((el) => {\n      el.classList.remove(removedClass);\n    });\n  }\n\n  children () {\n    const children = [];\n    this.nodes.forEach((el) => {\n      children.push(el.children);\n    });\n    return new DOMNodeCollection(children);\n  }\n\n  parent () {\n    const parents = [];\n    this.nodes.forEach((el) => {\n      parents.push(el.parentNode);\n    });\n    return new DOMNodeCollection(parents);\n  }\n\n  find (selector) {\n    let doms = [];\n    this.nodes.forEach((el) => {\n      const foundEls = el.querySelectorAll(selector);\n      doms = doms.concat(Array.from(foundEls));\n    });\n    return new DOMNodeCollection(doms);\n  }\n\n  remove () {\n    this.nodes.forEach((el) => {\n      el.parentNode.removeChild(el);\n    });\n  }\n\n  on (occurence, callback) {\n    this.nodes.forEach((el) => {\n      el.addEventListener(occurence, callback);\n      const key = `FreeDOM-${occurence}`;\n      if (typeof el[key] === \"undefined\") {\n        el[key] = [];\n      }\n      el[key].push(callback);\n    });\n  }\n\n  off (occurence) {\n    this.nodes.forEach((el) => {\n      const key = `FreeDOM-${occurence}`;\n      if (el[key]) {\n        el[key].forEach(callback => {\n          el.removeEventListener(occurence, callback);\n        });\n      }\n      el[key] = [];\n    });\n  }\n\n}\n\nmodule.exports = DOMNodeCollection;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/dom_node_collection.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}